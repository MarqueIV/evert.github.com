---
title: "I wish JSON5 was bigger!"
date: "2023-01-09 06:00:00 UTC"
geo: [45.686510, -79.328419]
location: "East York, ON, Canada"
draft: true
tags:
  - json
  - yaml
  - json5
  - toml
---

As developers we write a lot of code, but we also deal with a lot of
configuration files.

The three major formats (for me) are:

* JSON
* YAML
* .env

But to me they're all kind of painful to use. JSON feels like it should
_never_ have become a format that people hand-write. So many quotes,
and configuration formats **need comments!**

YAML files, to me were always hard to read. I can somehow never wrap my head
around the structure and end up copying parts of of (for example) github
workflow/actions files because the structure doesn't feel natural to me.

A small example:

```yaml
steps:
  - uses: actions/checkout@v2
  - uses: actions/setup-node@v2
    with:
      node-version: 14
      registry-url: https://registry.npmjs.org/
  - run: npm ci
  - run: npm publish
```

I've written these a lot but don't know why `uses` has a dash in front, and
`node-version` does not.  Similarly I have [home assistant][1], which heavily
relies on yaml for advanced stuff but somehow something just doesn't click,
and even when I look it up somehow I don't retain it.

YAML can also have very [surprising behavior][4], with casting types:

From the [linked article][4], this:

```yaml
- movie:
    title: Blade Runner
    year: 1982
```

becomes:

```yaml
- movie:
    title: 1979
    year: 2016
```

And

```yaml
- country1: ca
- country2: no
```

Becomes:

```yaml
- country1: ca
- country2: false 
```

I'm sure there's YAML linters out there that help avoid the pitfalls, but in
my mind configuration files should be simple. 


There's some configuration formats I like, such as [TOML][2] and also
[JSON5][3]. They strike the right balance to me with being easy to read and
write, unambigious, supporting comments and strictness.

TOML is like ini files on steroids, and JSON5 is JSON but solving it's
problems.

I can adopt them in some of my own projects, but I hope some larger projects
will pick them up at some point. Inertia is real but JSON and YAML can't be
the final word for human-written data formats.

If NPM adopted JSON5, I would annotate so much in my `package.json`, for
example why a package is needed, or why we are using a previous major version
of a dependency.

[1]: https://www.home-assistant.io/
[2]: https://toml.io/en/
[3]: https://json5.org/
[4]: https://www.infoworld.com/article/3669238/7-yaml-gotchas-to-avoidand-how-to-avoid-them.html
